               ======================================
                        INSTALLING BEdita
                          A Quick Howto
               ======================================

@version			$Revision$
@modifiedby 		$LastChangedBy$
@lastmodified		$LastChangedDate$

$Id$


BEdita 3.2 comes with a new web wizard install procedure.
If you have access to a command line shell, you can still use the classic procedure (see
below).



-------------------------------------------------------------------------------
 BEFORE INSTALL
-------------------------------------------------------------------------------


MINIMUM REQUIREMENTS

Minimum requirements must be satisfied. 
Your server should have at least have:

    * Apache 2
    * PHP 5.2 or newer and modules GD, Mbstring (Multibyte string), Gettext (recommended)
    * MySQL 5.0.26 or newer


BEdita is a PHP application based on CakePHP framework. All third party libraries are bundled
with the source package.



DOWNLOAD BEdita

You can download the latest release (stable or development) from:

 http://www.bedita.com/download




INSIDE THE PACKAGE

The expanded package contains a root folder called "bedita" containing all files and folders. 
A few files are just inside this folder:

- INSTALL - this setup guide
- LICENSE.AGPL - the AGPL license
- CHANGES - is a log of latest changes


The root directory also contains the following:

- bedita-app
  the core, deployed as a CakePHP application

- bedita-db
  SQL scripts needed to initialize the SQL database

- cake
  contains the CakePHP framework: DO NOT manually upgrade CakePHP, since the distribution
  is verified with this particular version
  
- vendors
  third party libraries, i.e. Smarty template engine and others



CREATE THE DATABASE

Be sure you already have a MySQL database you can use with BEdita.
PostgreSQL should work as well, but it's not intensively tested.
The database will be completely EMPTIED during setup.
The SQL User should have GRANTS on data and structure (INSERT, DELETE... and CREATE, DROP...).




-------------------------------------------------------------------------------
 WEB WIZARD INSTALL (recommended)
-------------------------------------------------------------------------------

- download BEdita (see up)
- unpack the package and copy the root folder "bedita" into a web reachable directory
  on your server
- make sure you have all necessary information to access your database: server address,
  name of the database and credentials (username and password)
- point your web browser to the relative URL address (www.example.com/bedita)
- follow the steps: the wizard will guide you throughout the process of configuring BEdita




-------------------------------------------------------------------------------
 MANUAL INSTALL FROM COMMAND LINE
-------------------------------------------------------------------------------


1. Configure the database credentials in database.php

CD to the "config" directory: this directory is located inside the "bedita-app" folder.
Edit the file "database.php" and insert proper values for elements in the $default array.
Usually a few basic values are needed for host, login, password and database.



2. Configure MediaRoot and MediaURL

This parameters will tell BEdita where multimedia files are stored and how to reach them.
You may enter proper values editing the file "bedita.cfg.php" which is located in the same
"config" folder (see 1.)

$config['mediaRoot'] indicates a directory on your filesystem where BEdita will put any file
    uploaded. Verify that the webserver has permissions to read and write in side this
    directory.

$config['mediaUrl'] indicates the base URL to reach the same folder in a web context


The simplest scenario is to create this directory inside bedita-app/webroot.
Suppose you have created a directory called "media" here, than the following example values
should be used:

$config['mediaRoot'] = [system path to bedita] . DS . "bedita-app" . DS . "webroot" . DS . "media";
$config['mediaUrl']  = "[http://www.example.com/bedita]/media";

Just substitute the values inside the [ ]. 
DS is used by CakePHP (and BEdita) to define a generic directory separator.



3. Verify filesystem permissions

The directory defined in $config['mediaRoot'] must be writable by the web server.
Verify also that the bedita-app/tmp directory is recursively writable by the web server (this
directory contains caches and logs).



3. Shell script bedita init

Tha database and BEdita need to be initialized.
On the command line cd to your install directory (inside the "bedita" folder, containing the
file "cake.sh").
type and execute the following command:

 ./cake.sh bedita init

At the end of the script you will be asked to command a new system status check. Just press "y".



4. Access the system

Point your browser to the location of your BEdita install.
You will redirected to the login page! Use the following credentials for the very first access:
username: bedita
password: bedita

Just change your password in the Admin module.

That's it.
